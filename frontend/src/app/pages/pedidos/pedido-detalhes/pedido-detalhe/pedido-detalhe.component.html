<div class="container mt-3">
  <h3>Criar Pedido</h3>

  <!-- Input para o nome do cliente -->
  <div class="mb-4">
    <label for="cliente" class="form-label">Nome do Cliente</label>
    <input
      type="text"
      class="form-control"
      id="cliente"
      [(ngModel)]="cliente"
      name="cliente"
      placeholder="Digite o nome do cliente"
      required
    />
  </div>

  <div>
    <form (ngSubmit)="adicionarProduto()">
      <div class="row g-3">
        <div class="col-md-8">
          <label for="produto" class="form-label">Nome do Produto</label>
          <input
            type="text"
            class="form-control"
            id="produto"
            [(ngModel)]="novoProduto.produto"
            name="produto"
            required
          />
        </div>
        <div class="col-md-2">
          <label for="quantidade" class="form-label">Quantidade</label>
          <input
            type="number"
            class="form-control"
            id="quantidade"
            [(ngModel)]="novoProduto.quantidade"
            name="quantidade"
            required
          />
        </div>
        <div class="col-md-2">
          <label for="precoUnitario" class="form-label">Preço Unitário</label>
          <input
            type="number"
            step="0.01"
            class="form-control"
            id="precoUnitario"
            [(ngModel)]="novoProduto.precoUnitario"
            name="precoUnitario"
            required
          />
        </div>
      </div>
      <button type="submit" class="btn btn-primary mt-3">Adicionar Produto</button>
    </form><hr />

    <!-- Lista de produtos adicionados -->
    <h3>Produtos no Pedido</h3>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Produto</th>
          <th>Quantidade</th>
          <th>Preço Unitário</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let produto of produtos; let i = index">
          <td>{{ produto.produto }}</td>
          <td>{{ produto.quantidade }}</td>
          <td>{{ produto.precoUnitario | currency: 'BRL' }}</td>
          <td>{{ produto.quantidade * produto.precoUnitario | currency: 'BRL' }}</td>
          <td>
            <button class="btn btn-danger btn-sm" (click)="removerProduto(i)">Remover</button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Botão para enviar o pedido -->
    <div class="text-end">
      <button class="btn btn-success" (click)="enviarPedido()">Enviar Pedido</button>
    </div>
  </div>
</div>
